# 路面生成器 #{road-generator}

::: warning 注意

由于路面生成器在制图环节中起着至关重要的作用，因此，在基础篇增设这一章节，用于介绍路面生成器最基本的使用方法。

本章节内容对制图质量和效率具有决定性影响，请务必认真阅读，多加练习。请勿跳过本章节！

:::

Ballex² 中的路面、钢轨、木板和管道均由路面生成器制作而成。

## 创建路面生成器 #{creating-a-road-generator}

`创建 → 路面生成器`

在起步板块，只讲解常见的用法和常用的参数项。最关键的参数项为：

- `生成器算法`
- `长度`
- `宽度`
- `末端宽度`
- `分段`
- `弯曲`
- `偏移`<badge text="生成器算法 = 轨道" />

::: tip 提示

- [`自定义顶点`](../advanced/item/roadGenerator#自定义顶点) 路面生成器将在 `进阶` 板块中详细介绍
- [`自定义脚本`](../script/roadGenerator) 路面生成器将在 `脚本` 板块中详细介绍

:::

## 直路面 #{straight-road}

- 选择 `生成器算法` 为 `路面`
- 设置 `长度`
- 若要制作凹路面，设置 `凹陷` 和 `末端凹陷`（推荐值为 `0.1`）
- 若要制作宽路面，设置 `宽度` 和 `末端宽度`（推荐值为 `3`）
- 若要制作斜坡路面，设置 `末端高度`，并勾选 `精确 UV 长度`

::: tip 提示

`长度` 为到水平面的投影长度，与 `末端高度` 是独立的参数。

如果两端都有其它物体遮挡，可以取消 `创建封盖` 以提升性能。

:::

## 直木板 #{straight-wood-board}

- 选择 `生成器算法` 为 `木板`
- 设置 `长度`
- 若要制作宽木板，设置 `宽度`（推荐值为 `2`）
- 若要制作斜坡木板，设置 `末端高度`，并勾选 `精确 UV 长度`

## 直钢轨 #{straight-rail}

- 选择 `生成器算法` 为 `轨道`
- 设置 `长度`
- 若要改变双轨轨距，设置 `偏移`（不推荐修改）
- 若要制作单轨，设置 `偏移` 数量为 `1`，值为 `(0, 0)`
- 若要制作斜坡钢轨，旋转钢轨并配套衔接圆弧弯轨

## 直管道 #{straight-tube}

- 选择 `生成器算法` 为 `管道`
- 设置 `长度`
- 若要扩大管道外径，设置 `半径` 和 `末端半径`（推荐值为 `0.75`）
- 若要改变横截面圆心角，设置 `切片`（推荐值为 `(0, 180)`）

## 圆弧 #{arc}

- 根据所需的半径和圆心角计算对应的 `长度`
- 将 `弯曲 y` 设置为末端方向与起始方向的夹角，单位为角度，右转为正，左转为负
- 根据上述夹角适当设置 `分段数` （推荐值为 `偏航角 / 7.5` 向上取整）

## 螺旋 #{spiral}

- 设置 `末端高度` 为末端与头部的高度差
- 其它同圆弧

## 滚轴 #{roll}

- 将 `弯曲 x` 设置为末端方向与起始方向的夹角，单位为角度，下压为正，上抬为负
- 其它同圆弧

## 麻花 #{twist}

- 将 `弯曲 z` 设置为末端方向与起始方向的夹角，单位为角度，逆时针扭转为正，顺时针为负
- 其它同圆弧

::: warning 注意

为了避免得到诡异的结果：

- 请勿同时设置 `末端高度` 和 `弯曲 x` 两个参数
- 请勿同时设置 `弯曲 x` 和 `弯曲 y` 两个参数

:::

## 拐角 #{corner}

- 选择 `生成器算法` 为 `拐角`
- 根据路面宽度设定对应的 `尺寸`
- 点击修改边缘和角落的纹理样式
